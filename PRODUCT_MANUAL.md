# AuraFlow AI 工作流设计师 - 产品说明书

## 1. 产品定义

AuraFlow 是一款**半自动化 AI 工作流编排工具**。它旨在帮助用户将零散的 AI Web 应用（如 ChatGPT, Gemini, Claude 等）串联成一个有序的、可重复执行的工作流。

与传统的 API 调用方式不同，AuraFlow 采用**“以浏览器为中心”**的交互模式。通过可视化界面定义流程，配合浏览器插件自动填充提示词（Prompt）并触发操作，最大程度地利用现有的免费或网页版 AI 工具，实现零成本的复杂任务处理。

---

## 2. 核心应用场景

*   **跨模型协作**：例如，先用 ChatGPT 总结长文章，再将总结内容传给 Gemini 进行翻译，最后让 Claude 润色风格。
*   **批量内容生成**：定义好一套 Prompt 模板（如“写一篇关于 {{topic}} 的小红书文案”），只需修改初始变量，即可快速生成多篇内容。
*   **零代码自动化**：无需编写 Python 脚本或购买昂贵的 API Key，普通用户也能搭建自己的 AI 工厂。

---

## 3. 系统架构与实现原理

AuraFlow 由两个核心部分组成：

1.  **Web 设计器 (Web App)**：
    *   **功能**：用于管理模组、编排工作流节点、设置提示词模板和输入变量。
    *   **原理**：基于 React + SVG (D3.js) 实现的图形化编辑器。数据存储在本地 LocalStorage 中。

2.  **浏览器插件 (Automation Engine)**：
    *   **功能**：负责在目标 AI 网页上执行具体操作（填空、点击发送）。
    *   **原理**：
        1.  当工作流运行到某个节点时，Web App 会生成一个包含任务信息的 Session ID，并拼接到目标 URL 后（例如 `chat.openai.com/#session=123`）。
        2.  浏览器打开该 URL，插件检测到 Session ID。
        3.  插件在页面中注入悬浮面板，模拟用户操作将上一步的结果填入输入框。

---

## 4. 主流程说明

### 第一步：定义模组 (Module)
模组是工作流的基本积木。一个模组代表一个 AI 工具的特定用法。
*   **配置项**：
    *   **目标 URL**：AI 工具的网址。
    *   **DOM 选择器**：用于告诉插件哪个是输入框，哪个是发送按钮。
    *   **Prompt 模板**：预设的提示词结构，支持 `{{input}}` 变量插值。

### 第二步：编排工作流 (Workflow)
1.  **启动触发器 (Start Trigger)**：定义工作流的初始变量（如 `topic`, `language` 等）。
    *   *注意：系统预制的 Start Trigger 模组不可修改，只需在节点属性中添加 Key-Value 变量即可。*
2.  **添加节点**：从模组库拖拽模组到画布。
3.  **连线**：将上一个节点的输出连接到下一个节点。

### 第三步：执行与半自动化交互
1.  点击“运行工作流”。
2.  系统从“启动触发器”开始，自动传递数据。
3.  遇到 AI 应用节点时，系统会提示“打开应用”。
4.  用户点击跳转，插件在目标页面自动填充内容。
5.  用户确认结果无误后，复制结果（或由插件抓取），工作流继续流转。

---

## 5. 常见问题 (FAQ)

*   **Q: 为什么需要浏览器插件？**
    *   A: 插件是连接设计器和外部网页的桥梁，它使得我们能在不拥有目标网站 API 权限的情况下实现自动化。
*   **Q: 如何获取 DOM 选择器？**
    *   A: 在编辑模组时，您可以使用内置的 "AI 智能配置助手"，只需描述任务，AI 会尝试为您生成选择器配置。或者按 F12 开发者工具自行查看。
*   **Q: 数据安全吗？**
    *   A: 所有工作流和模组配置均存储在您浏览器的 LocalStorage 中，不会上传到云端服务器。

---

*AuraFlow Team*